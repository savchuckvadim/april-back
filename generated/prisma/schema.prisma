generator client {
  provider      = "prisma-client-js"
  output        = "../generated/prisma"
  binaryTargets = ["native", "debian-openssl-1.1.x", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model agents {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
  portalId   BigInt    @db.UnsignedBigInt
  rqId       BigInt?   @db.UnsignedBigInt
  type       String    @db.VarChar(255)
  name       String    @db.VarChar(255)
  code       String    @db.VarChar(255)
  number     String    @db.VarChar(255)
  withTax    Boolean   @default(false)

  portal portals @relation("PortalProviders", fields: [portalId], references: [id])
  rq     rqs?    @relation(fields: [rqId], references: [id])
}

model bitrixfield_items {
  id               BigInt             @id @default(autoincrement()) @db.UnsignedBigInt
  created_at       DateTime?          @db.Timestamp(0)
  updated_at       DateTime?          @updatedAt @db.Timestamp(0)
  bitrixfield_id   BigInt             @db.UnsignedBigInt
  name             String             @db.VarChar(255)
  title            String             @db.VarChar(255)
  code             String             @db.VarChar(255)
  bitrixId         Int
  bitrixfields     bitrixfields       @relation(fields: [bitrixfield_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "bitrixfield_items_bitrixfield_id_foreign")
  portal_contracts portal_contracts[]

  @@index([bitrixfield_id], map: "bitrixfield_items_bitrixfield_id_foreign")
}

model bitrixfields {
  id                BigInt              @id @default(autoincrement()) @db.UnsignedBigInt
  entity_type       String              @db.VarChar(255)
  entity_id         BigInt              @db.UnsignedBigInt
  parent_type       String              @db.VarChar(255)
  created_at        DateTime?           @db.Timestamp(0)
  updated_at        DateTime?           @updatedAt @db.Timestamp(0)
  type              String              @db.VarChar(255)
  title             String              @db.VarChar(255)
  name              String              @db.VarChar(255)
  bitrixId          String              @db.VarChar(255)
  bitrixCamelId     String              @db.VarChar(255)
  code              String              @db.VarChar(255)
  bitrixfield_items bitrixfield_items[]
}

model bitrixlists {
  id        BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  type      String  @db.VarChar(255)
  group     String  @db.VarChar(255)
  name      String  @db.VarChar(255)
  title     String  @db.VarChar(255)
  bitrixId  BigInt  @db.UnsignedBigInt
  portal_id BigInt  @db.UnsignedBigInt
  portals   portals @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "bitrixlists_portal_id_foreign")

  @@index([portal_id], map: "bitrixlists_portal_id_foreign")
}

model btx_categories {
  id            BigInt       @id @default(autoincrement()) @db.UnsignedBigInt
  entity_type   String       @db.VarChar(255)
  entity_id     BigInt       @db.UnsignedBigInt
  parent_type   String       @db.VarChar(255)
  created_at    DateTime?    @db.Timestamp(0)
  updated_at    DateTime?    @db.Timestamp(0)
  type          String       @db.VarChar(255)
  group         String       @db.VarChar(255)
  title         String       @db.VarChar(255)
  name          String       @db.VarChar(255)
  bitrixId      String       @db.VarChar(255)
  bitrixCamelId String       @db.VarChar(255)
  code          String       @db.VarChar(255)
  isActive      Boolean
  btx_stages    btx_stages[]
}

model btx_companies {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
  name       String    @db.VarChar(255)
  title      String    @db.VarChar(255)
  code       String    @db.VarChar(255)
  portal_id  BigInt    @db.UnsignedBigInt
  portals    portals   @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "btx_companies_portal_id_foreign")

  @@index([portal_id], map: "btx_companies_portal_id_foreign")
}

model btx_deals {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
  name       String    @db.VarChar(255)
  title      String    @db.VarChar(255)
  code       String    @db.VarChar(255)
  portal_id  BigInt    @db.UnsignedBigInt
  portals    portals   @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "btx_deals_portal_id_foreign")

  @@index([portal_id], map: "btx_deals_portal_id_foreign")
}

model btx_leads {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
  name       String    @db.VarChar(255)
  title      String    @db.VarChar(255)
  code       String    @db.VarChar(255)
  portal_id  BigInt    @db.UnsignedBigInt
  portals    portals   @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "btx_leads_portal_id_foreign")

  @@index([portal_id], map: "btx_leads_portal_id_foreign")
}

model btx_rpas {
  id           BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at   DateTime? @db.Timestamp(0)
  updated_at   DateTime? @db.Timestamp(0)
  name         String    @db.VarChar(255)
  title        String    @db.VarChar(255)
  code         String    @db.VarChar(255)
  type         String    @db.VarChar(255)
  image        String?   @db.VarChar(255)
  bitrixId     BigInt?   @db.UnsignedBigInt
  typeId       String    @db.VarChar(255)
  description  String?   @db.LongText
  entityTypeId BigInt?   @db.UnsignedBigInt
  forStageId   BigInt?   @db.UnsignedBigInt
  forFilterId  BigInt?   @db.UnsignedBigInt
  crmId        BigInt?   @db.UnsignedBigInt
  portal_id    BigInt    @db.UnsignedBigInt
  portals      portals   @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "btx_rpas_portal_id_foreign")

  @@index([portal_id], map: "btx_rpas_portal_id_foreign")
}

model btx_stages {
  id              BigInt         @id @default(autoincrement()) @db.UnsignedBigInt
  created_at      DateTime?      @db.Timestamp(0)
  updated_at      DateTime?      @db.Timestamp(0)
  btx_category_id BigInt         @db.UnsignedBigInt
  name            String         @db.VarChar(255)
  title           String         @db.VarChar(255)
  code            String         @db.VarChar(255)
  bitrixId        String         @db.VarChar(255)
  color           String         @db.VarChar(255)
  isActive        Boolean
  btx_categories  btx_categories @relation(fields: [btx_category_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "btx_stages_btx_category_id_foreign")

  @@index([btx_category_id], map: "btx_stages_btx_category_id_foreign")
}

model callings {
  id        BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  type      String  @db.VarChar(255)
  group     String  @db.VarChar(255)
  name      String  @db.VarChar(255)
  title     String  @db.VarChar(255)
  bitrixId  BigInt  @db.UnsignedBigInt
  portal_id BigInt  @db.UnsignedBigInt
  portals   portals @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "callings_portal_id_foreign")

  @@index([portal_id], map: "callings_portal_id_foreign")
}

model clients {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
  name       String    @db.VarChar(255)
}

model contracts {
  id               BigInt             @id @default(autoincrement()) @db.UnsignedBigInt
  created_at       DateTime?          @db.Timestamp(0)
  updated_at       DateTime?          @db.Timestamp(0)
  name             String             @db.VarChar(255)
  number           Int
  title            String             @db.VarChar(255)
  code             String             @db.VarChar(255)
  type             String             @db.VarChar(255)
  template         String?            @db.VarChar(255)
  order            Int?
  coefficient      Int                @default(1)
  prepayment       Int                @default(1)
  discount         Float              @default(1.00)
  productName      String?            @db.VarChar(255)
  product          String?            @db.VarChar(255)
  service          String?            @db.VarChar(255)
  description      String?            @db.LongText
  comment          String?            @db.LongText
  comment1         String?            @db.LongText
  comment2         String?            @db.LongText
  withPrepayment   Boolean
  portal_contracts portal_contracts[]
}

model counters {
  id               BigInt             @id @default(autoincrement()) @db.UnsignedBigInt
  created_at       DateTime?          @db.Timestamp(0)
  updated_at       DateTime?          @db.Timestamp(0)
  name             String             @db.VarChar(255)
  title            String             @db.VarChar(255)
  rq_counter       rq_counter[]
  template_counter template_counter[]
}

model deal_document_favorites {
  id                   BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at           DateTime? @db.Timestamp(0)
  updated_at           DateTime? @db.Timestamp(0)
  dealId               BigInt?   @db.UnsignedBigInt
  dealDocumentOptionId BigInt?   @db.UnsignedBigInt
  userId               BigInt?   @db.UnsignedBigInt
  domain               String?   @db.VarChar(255)
  btxUserId            Int?
  title                String?   @db.VarChar(255)
  complectName         String?   @db.VarChar(255)
  dealName             String?   @db.VarChar(255)
  description          String?   @db.Text
  settings             String?   @db.LongText
  tag                  String?   @db.VarChar(255)
  type                 String?   @db.VarChar(255)
  group                String?   @db.VarChar(255)
  promotionName        String?   @db.VarChar(255)
  promotionCode        String?   @db.VarChar(255)
  targetAudience       String?   @db.VarChar(255)
}

model deal_document_options {
  id                     BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at             DateTime? @db.Timestamp(0)
  updated_at             DateTime? @db.Timestamp(0)
  dealId                 BigInt?   @db.UnsignedBigInt
  dealDocumentFavoriteId BigInt?   @db.UnsignedBigInt
  salePhrase             String    @db.LongText
  withStamp              String    @db.LongText
  isPriceFirst           String    @db.LongText
  withManager            String    @db.LongText
  iblocksStyle           String    @db.LongText
  describStyle           String    @db.LongText
  otherStyle             String    @db.LongText
  priceDiscount          String?   @db.LongText
  priceYear              String    @db.LongText
  priceDefault           String    @db.LongText
  priceSupply            String    @db.LongText
  priceOptions           String    @db.LongText
  otherPrice             String    @db.LongText
  otherSettings          String?   @db.LongText
  domain                 String?   @db.VarChar(255)
  portalId               Int?
  bxUserId               Int?
  offer_template_id      Int?
  actionId               Int?
}

model deals {
  id                   BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at           DateTime? @db.Timestamp(0)
  updated_at           DateTime? @db.Timestamp(0)
  portalId             BigInt?   @db.UnsignedBigInt
  dealId               Int?
  userId               Int?
  domain               String?   @db.VarChar(255)
  dealName             String?   @db.VarChar(255)
  app                  String?   @db.Text
  global               String?   @db.Text
  currentComplect      String?   @db.Text
  od                   String?   @db.Text
  result               String?   @db.Text
  contract             String?   @db.Text
  product              String?   @db.Text
  rows                 String?   @db.Text
  regions              String?   @db.Text
  app_long             String?   @db.LongText
  global_long          String?   @db.LongText
  currentComplect_long String?   @db.LongText
  od_long              String?   @db.LongText
  result_long          String?   @db.LongText
  contract_long        String?   @db.LongText
  product_long         String?   @db.LongText
  rows_long            String?   @db.LongText
  regions_long         String?   @db.LongText
}

model departaments {
  id        BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  type      String  @db.VarChar(255)
  group     String  @db.VarChar(255)
  name      String  @db.VarChar(255)
  title     String  @db.VarChar(255)
  bitrixId  BigInt  @db.UnsignedBigInt
  portal_id BigInt  @db.UnsignedBigInt
  portals   portals @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "departaments_portal_id_foreign")

  @@index([portal_id], map: "departaments_portal_id_foreign")
}

model documents {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
}

model f_items {
  id          BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at  DateTime? @db.Timestamp(0)
  updated_at  DateTime? @db.Timestamp(0)
  number      Int
  code        String    @db.VarChar(255)
  fieldId     BigInt    @db.UnsignedBigInt
  order       Int
  value       String?   @db.VarChar(255)
  bitrixId    String?   @db.VarChar(255)
  fieldNumber String    @db.VarChar(255)
  fields      fields?   @relation(fields: [fieldsId], references: [id])
  fieldsId    BigInt?   @db.UnsignedBigInt
}

model failed_jobs {
  id         BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  uuid       String   @unique(map: "failed_jobs_uuid_unique") @db.VarChar(255)
  connection String   @db.Text
  queue      String   @db.Text
  payload    String   @db.LongText
  exception  String   @db.LongText
  failed_at  DateTime @default(now()) @db.Timestamp(0)
}

model fields {
  id               BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at       DateTime? @db.Timestamp(0)
  updated_at       DateTime? @db.Timestamp(0)
  number           Int
  name             String    @db.VarChar(255)
  code             String    @db.VarChar(255)
  type             String    @db.VarChar(255)
  isGeneral        Boolean
  isDefault        Boolean
  isRequired       Boolean
  value            String?   @db.VarChar(255)
  description      String?   @db.LongText
  bitixId          String?   @db.VarChar(255)
  bitrixTemplateId String?   @db.VarChar(255)
  isActive         Boolean
  isPlural         Boolean
  isClient         Boolean?

  template_field template_field[]
  items          f_items[]
}

model files {
  id           BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at   DateTime? @db.Timestamp(0)
  updated_at   DateTime? @db.Timestamp(0)
  name         String    @db.VarChar(255)
  code         String    @db.VarChar(255)
  type         String    @db.VarChar(255)
  path         String    @db.VarChar(255)
  parent       String    @db.VarChar(255)
  parent_type  String?   @db.VarChar(255)
  entity_id    BigInt?   @db.UnsignedBigInt
  size         BigInt?   @db.UnsignedBigInt
  format       BigInt?   @db.UnsignedBigInt
  availability String    @db.VarChar(255)
  entity_type  String?   @db.VarChar(255)
}

model infoblocks {
  id                                         BigInt                 @id @default(autoincrement()) @db.UnsignedBigInt
  created_at                                 DateTime?              @db.Timestamp(0)
  updated_at                                 DateTime?              @updatedAt @db.Timestamp(0)
  number                                     Int
  name                                       String                 @db.VarChar(255)
  title                                      String?                @db.VarChar(255)
  description                                String?                @db.LongText
  descriptionForSale                         String?                @db.LongText
  shortDescription                           String?                @db.Text
  weight                                     String                 @db.VarChar(255)
  code                                       String                 @db.VarChar(255)
  inGroupId                                  Int
  groupId                                    BigInt                 @db.UnsignedBigInt
  isLa                                       Boolean
  isFree                                     Boolean
  isShowing                                  Boolean
  isSet                                      Boolean
  parent_id                                  BigInt?                @db.UnsignedBigInt
  relation_id                                BigInt?                @db.UnsignedBigInt
  related_id                                 BigInt?                @db.UnsignedBigInt
  excluded_id                                BigInt?                @db.UnsignedBigInt
  group_id                                   BigInt?                @db.UnsignedBigInt
  isProduct                                  Boolean?
  isPackage                                  Boolean?
  tag                                        String?                @db.VarChar(255)
  complects                                  complect_infoblock[]
  garant_packages                            garant_packages[]
  infoblock_info_group                       infoblock_info_group[]
  infoblock_package_infoblock_idToinfoblocks infoblock_package[]    @relation("infoblock_package_infoblock_idToinfoblocks")
  infoblock_package_package_idToinfoblocks   infoblock_package[]    @relation("infoblock_package_package_idToinfoblocks")
  excluded                                   infoblocks?            @relation("ExcludedToInfoblock", fields: [excluded_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "infoblocks_excluded_id_foreign")
  excludedFrom                               infoblocks[]           @relation("ExcludedToInfoblock")
  group                                      info_groups?           @relation("GroupToInfoblocks", fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "infoblocks_group_id_foreign")
  parent                                     infoblocks?            @relation("ParentToChild", fields: [parent_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "infoblocks_parent_id_foreign")
  children                                   infoblocks[]           @relation("ParentToChild")
  related                                    infoblocks?            @relation("RelatedToInfoblock", fields: [related_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "infoblocks_related_id_foreign")
  relatedFrom                                infoblocks[]           @relation("RelatedToInfoblock")
  relation                                   infoblocks?            @relation("RelationToInfoblock", fields: [relation_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "infoblocks_relation_id_foreign")
  relatedInfoblocks                          infoblocks[]           @relation("RelationToInfoblock")
  // Package relations
  packages                                   infoblocks[]           @relation("PackageToInfoblocks")
  packageInfoblocks                          infoblocks[]           @relation("PackageToInfoblocks")

  @@index([excluded_id], map: "infoblocks_excluded_id_foreign")
  @@index([group_id], map: "infoblocks_group_id_foreign")
  @@index([parent_id], map: "infoblocks_parent_id_foreign")
  @@index([related_id], map: "infoblocks_related_id_foreign")
  @@index([relation_id], map: "infoblocks_relation_id_foreign")
}

model info_groups {
  id                   BigInt                 @id @default(autoincrement()) @db.UnsignedBigInt
  created_at           DateTime?              @db.Timestamp(0)
  updated_at           DateTime?              @updatedAt @db.Timestamp(0)
  number               Int
  code                 String                 @db.VarChar(255)
  name                 String                 @db.VarChar(255)
  title                String                 @db.VarChar(255)
  description          String?                @db.LongText
  descriptionForSale   String?                @db.LongText
  shortDescription     String?                @db.Text
  type                 String                 @db.VarChar(255)
  productType          String                 @db.VarChar(255)
  garant_packages      garant_packages[]
  infoblock_info_group infoblock_info_group[]
  infoblocks           infoblocks[]           @relation("GroupToInfoblocks")
}

model jobs {
  id           BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  queue        String @db.VarChar(255)
  payload      String @db.LongText
  attempts     Int    @db.UnsignedTinyInt
  reserved_at  Int?   @db.UnsignedInt
  available_at Int    @db.UnsignedInt
  created_at   Int    @db.UnsignedInt

  @@index([queue], map: "jobs_queue_index")
}

model links {
  id               BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at       DateTime? @db.Timestamp(0)
  updated_at       DateTime? @db.Timestamp(0)
  advertiser_id    BigInt    @db.UnsignedBigInt
  master_id        BigInt    @db.UnsignedBigInt
  offer_id         BigInt    @db.UnsignedBigInt
  url              String?   @db.VarChar(255)
  transitions      Int       @default(0)
  fail_transitions Int       @default(0)
}

model measures {
  id             BigInt           @id @default(autoincrement()) @db.UnsignedBigInt
  created_at     DateTime?        @db.Timestamp(0)
  updated_at     DateTime?        @db.Timestamp(0)
  name           String           @db.VarChar(255)
  shortName      String           @db.VarChar(255)
  fullName       String           @db.VarChar(255)
  code           String           @db.VarChar(255)
  type           String?          @db.VarChar(255)
  portal_measure portal_measure[]
}

model migrations {
  id        Int    @id @default(autoincrement()) @db.UnsignedInt
  migration String @db.VarChar(255)
  batch     Int
}

model offers {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model password_resets {
  email      String    @db.VarChar(255)
  token      String    @db.VarChar(255)
  created_at DateTime? @db.Timestamp(0)

  @@index([email], map: "password_resets_email_index")
  @@ignore
}

model personal_access_tokens {
  id             BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  tokenable_type String    @db.VarChar(255)
  tokenable_id   BigInt    @db.UnsignedBigInt
  name           String    @db.VarChar(255)
  token          String    @unique(map: "personal_access_tokens_token_unique") @db.VarChar(64)
  abilities      String?   @db.Text
  last_used_at   DateTime? @db.Timestamp(0)
  expires_at     DateTime? @db.Timestamp(0)
  created_at     DateTime? @db.Timestamp(0)
  updated_at     DateTime? @db.Timestamp(0)

  @@index([tokenable_type, tokenable_id], map: "personal_access_tokens_tokenable_type_tokenable_id_index")
}

model portal_contracts {
  id                  BigInt            @id @default(autoincrement()) @db.UnsignedBigInt
  created_at          DateTime?         @db.Timestamp(0)
  updated_at          DateTime?         @db.Timestamp(0)
  title               String            @db.VarChar(255)
  template            String?           @db.VarChar(255)
  order               Int?
  portal_id           BigInt            @db.UnsignedBigInt
  contract_id         BigInt            @db.UnsignedBigInt
  portal_measure_id   BigInt            @db.UnsignedBigInt
  bitrixfield_item_id BigInt            @db.UnsignedBigInt
  productName         String?           @db.VarChar(255)
  description         String?           @db.LongText
  bitrixfield_items   bitrixfield_items @relation(fields: [bitrixfield_item_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "portal_contracts_bitrixfield_item_id_foreign")
  contracts           contracts         @relation(fields: [contract_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "portal_contracts_contract_id_foreign")
  portals             portals           @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "portal_contracts_portal_id_foreign")
  portal_measure      portal_measure    @relation(fields: [portal_measure_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "portal_contracts_portal_measure_id_foreign")

  @@index([bitrixfield_item_id], map: "portal_contracts_bitrixfield_item_id_foreign")
  @@index([contract_id], map: "portal_contracts_contract_id_foreign")
  @@index([portal_id], map: "portal_contracts_portal_id_foreign")
  @@index([portal_measure_id], map: "portal_contracts_portal_measure_id_foreign")
}

model portal_measure {
  id               BigInt             @id @default(autoincrement()) @db.UnsignedBigInt
  measure_id       BigInt             @db.UnsignedBigInt
  portal_id        BigInt             @db.UnsignedBigInt
  bitrixId         String?            @db.VarChar(255)
  name             String?            @db.VarChar(255)
  shortName        String?            @db.VarChar(255)
  fullName         String?            @db.VarChar(255)
  created_at       DateTime?          @db.Timestamp(0)
  updated_at       DateTime?          @db.Timestamp(0)
  portal_contracts portal_contracts[]
  measures         measures           @relation(fields: [measure_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "portal_measure_measure_id_foreign")
  portals          portals            @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "portal_measure_portal_id_foreign")

  @@index([measure_id], map: "portal_measure_measure_id_foreign")
  @@index([portal_id], map: "portal_measure_portal_id_foreign")
}

model portals {
  id                      BigInt                    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at              DateTime?                 @db.Timestamp(0)
  updated_at              DateTime?                 @db.Timestamp(0)
  domain                  String?                   @db.Text
  key                     String?                   @db.Text
  C_REST_CLIENT_ID        String?                   @db.Text
  C_REST_CLIENT_SECRET    String?                   @db.Text
  C_REST_WEB_HOOK_URL     String?                   @db.Text
  number                  Int
  bitrix_apps             bitrix_apps[]
  bitrixlists             bitrixlists[]
  btx_companies           btx_companies[]
  btx_contacts            btx_contacts[]
  btx_deals               btx_deals[]
  btx_leads               btx_leads[]
  btx_rpas                btx_rpas[]
  callings                callings[]
  departaments            departaments[]
  offer_template_portal   offer_template_portal[]
  offer_zakupki_settings  offer_zakupki_settings[]
  portal_contracts        portal_contracts[]
  portal_measure          portal_measure[]
  portal_region           portal_region[]
  smarts                  smarts[]
  timezones               timezones[]
  user_selected_templates user_selected_templates[]
  templates               templates[]               @relation("PortalTemplates")
  agents                  agents[]                  @relation("PortalProviders")
}

model price_row_cells {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
  number     Int
  name       String    @db.VarChar(255)
  code       String    @db.VarChar(255)
  type       String    @db.VarChar(255)
  isActive   Boolean?
  value      String?   @db.VarChar(255)
  icon       String?   @db.VarChar(255)
}

model rq_counter {
  rq_id      BigInt   @db.UnsignedBigInt
  counter_id BigInt   @db.UnsignedBigInt
  type       String?  @db.VarChar(255)
  value      Int?
  prefix     String?  @db.VarChar(255)
  postfix    String?  @db.VarChar(255)
  day        Boolean  @default(false)
  year       Boolean  @default(false)
  month      Boolean  @default(false)
  count      Int      @default(0)
  size       Int      @default(1)
  counters   counters @relation(fields: [counter_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "rq_counter_counter_id_foreign")
  rqs        rqs      @relation(fields: [rq_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "rq_counter_rq_id_foreign")

  @@id([rq_id, counter_id])
  @@index([counter_id], map: "rq_counter_counter_id_foreign")
}

model rqs {
  id                    BigInt       @id @default(autoincrement()) @db.UnsignedBigInt
  created_at            DateTime?    @db.Timestamp(0)
  updated_at            DateTime?    @db.Timestamp(0)
  name                  String?      @db.VarChar(255)
  number                String?      @db.VarChar(255)
  type                  String       @db.VarChar(255)
  fullname              String?      @db.VarChar(255)
  shortname             String?      @db.VarChar(255)
  director              String?      @db.VarChar(255)
  position              String?      @db.VarChar(255)
  accountant            String?      @db.VarChar(255)
  based                 String?      @db.VarChar(255)
  inn                   String?      @db.VarChar(255)
  kpp                   String?      @db.VarChar(255)
  ogrn                  String?      @db.VarChar(255)
  ogrnip                String?      @db.VarChar(255)
  personName            String?      @db.VarChar(255)
  document              String?      @db.VarChar(255)
  docSer                String?      @db.VarChar(255)
  docNum                String?      @db.VarChar(255)
  docDate               String?      @db.VarChar(255)
  docIssuedBy           String?      @db.VarChar(255)
  docDepCode            String?      @db.VarChar(255)
  registredAdress       String?      @db.VarChar(255)
  primaryAdresss        String?      @db.VarChar(255)
  email                 String?      @db.VarChar(255)
  garantEmail           String?      @db.VarChar(255)
  phone                 String?      @db.VarChar(255)
  assigned              String?      @db.VarChar(255)
  assignedPhone         String?      @db.VarChar(255)
  other                 String?      @db.LongText
  bank                  String?      @db.VarChar(255)
  bik                   String?      @db.VarChar(255)
  rs                    String?      @db.VarChar(255)
  ks                    String?      @db.VarChar(255)
  bankAdress            String?      @db.VarChar(255)
  bankOther             String?      @db.LongText
  directorSignatureId   BigInt?      @db.UnsignedBigInt
  accountantSignatureId BigInt?      @db.UnsignedBigInt
  stampId               BigInt?      @db.UnsignedBigInt
  agentId               BigInt?      @db.UnsignedBigInt
  rq_counter            rq_counter[]
  agents                agents[]
}

model smarts {
  id           BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  type         String    @db.VarChar(255)
  group        String    @db.VarChar(255)
  name         String    @db.VarChar(255)
  title        String    @db.VarChar(255)
  bitrixId     BigInt?   @db.UnsignedBigInt
  entityTypeId BigInt    @db.UnsignedBigInt
  forStageId   BigInt?   @db.UnsignedBigInt
  forFilterId  BigInt?   @db.UnsignedBigInt
  crmId        BigInt?   @db.UnsignedBigInt
  portal_id    BigInt    @db.UnsignedBigInt
  created_at   DateTime? @db.Timestamp(0)
  updated_at   DateTime? @db.Timestamp(0)
  forStage     String?   @db.VarChar(255)
  forFilter    String?   @db.VarChar(255)
  crm          String?   @db.VarChar(255)
  portals      portals   @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "smarts_portal_id_foreign")

  @@index([portal_id], map: "smarts_portal_id_foreign")
}

model t_fields {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
  number     Int
  code       String    @db.VarChar(255)
  name       String    @db.VarChar(255)
  templateId BigInt    @db.UnsignedBigInt
  fieldId    BigInt    @db.UnsignedBigInt
}

model telescope_entries {
  sequence                BigInt                   @id @default(autoincrement()) @db.UnsignedBigInt
  uuid                    String                   @unique(map: "telescope_entries_uuid_unique") @db.Char(36)
  batch_id                String                   @db.Char(36)
  family_hash             String?                  @db.VarChar(255)
  should_display_on_index Boolean                  @default(true)
  type                    String                   @db.VarChar(20)
  content                 String                   @db.LongText
  created_at              DateTime?                @db.DateTime(0)
  telescope_entries_tags  telescope_entries_tags[]

  @@index([batch_id], map: "telescope_entries_batch_id_index")
  @@index([created_at], map: "telescope_entries_created_at_index")
  @@index([family_hash], map: "telescope_entries_family_hash_index")
  @@index([type, should_display_on_index], map: "telescope_entries_type_should_display_on_index_index")
}

model telescope_entries_tags {
  entry_uuid        String            @db.Char(36)
  tag               String            @db.VarChar(255)
  telescope_entries telescope_entries @relation(fields: [entry_uuid], references: [uuid], onDelete: Cascade, onUpdate: NoAction, map: "telescope_entries_tags_entry_uuid_foreign")

  @@id([entry_uuid, tag])
  @@index([tag], map: "telescope_entries_tags_tag_index")
}

model telescope_monitoring {
  tag String @id @db.VarChar(255)
}

model template_counter {
  template_id BigInt    @db.UnsignedBigInt
  counter_id  BigInt    @db.UnsignedBigInt
  value       String?   @db.VarChar(255)
  prefix      String?   @db.VarChar(255)
  day         Boolean   @default(false)
  year        Boolean   @default(false)
  month       Boolean   @default(false)
  count       Int       @default(0)
  size        Int       @default(1)
  counters    counters  @relation(fields: [counter_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "template_counter_counter_id_foreign")
  templates   templates @relation(fields: [template_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "template_counter_template_id_foreign")

  @@id([template_id, counter_id])
  @@index([counter_id], map: "template_counter_counter_id_foreign")
}

model template_field {
  id          BigInt     @id @default(autoincrement()) @db.UnsignedBigInt
  created_at  DateTime?  @db.Timestamp(0)
  updated_at  DateTime?  @db.Timestamp(0)
  template_id BigInt     @db.UnsignedBigInt
  field_id    BigInt     @db.UnsignedBigInt
  fields      fields?    @relation(fields: [fieldsId], references: [id])
  fieldsId    BigInt?    @db.UnsignedBigInt
  templates   templates? @relation(fields: [templatesId], references: [id])
  templatesId BigInt?    @db.UnsignedBigInt
}

model templates {
  id               BigInt             @id @default(autoincrement()) @db.UnsignedBigInt
  created_at       DateTime?          @db.Timestamp(0)
  updated_at       DateTime?          @db.Timestamp(0)
  name             String             @db.VarChar(255)
  code             String             @db.VarChar(255)
  type             String             @db.VarChar(255)
  link             String?            @db.VarChar(255)
  portalId         BigInt             @db.UnsignedBigInt
  portal           portals            @relation("PortalTemplates", fields: [portalId], references: [id])
  template_counter template_counter[]
  template_field   template_field[]
}

model timezones {
  id        BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  type      String? @db.VarChar(255)
  name      String  @db.VarChar(255)
  title     String  @db.VarChar(255)
  value     String  @db.VarChar(255)
  offset    String? @db.VarChar(255)
  portal_id BigInt  @db.UnsignedBigInt
  portals   portals @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "timezones_portal_id_foreign")

  @@index([portal_id], map: "timezones_portal_id_foreign")
}

model users {
  id                        BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  name                      String    @db.VarChar(255)
  surname                   String    @db.VarChar(255)
  email                     String?   @unique(map: "users_email_unique") @db.VarChar(255)
  photo                     String?   @db.VarChar(255)
  role_id                   BigInt    @db.UnsignedBigInt
  email_verified_at         DateTime? @db.Timestamp(0)
  password                  String    @db.VarChar(255)
  two_factor_secret         String?   @db.Text
  two_factor_recovery_codes String?   @db.Text
  remember_token            String?   @db.VarChar(100)
  created_at                DateTime? @db.Timestamp(0)
  updated_at                DateTime? @db.Timestamp(0)
}

model ais {
  id               BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at       DateTime? @db.Timestamp(0)
  updated_at       DateTime? @db.Timestamp(0)
  provider         String?   @db.VarChar(255)
  activity_id      String?   @db.VarChar(255)
  file_id          String?   @db.VarChar(255)
  in_comment       Boolean   @default(false)
  in_report        Boolean   @default(false)
  report_item_id   String?   @db.VarChar(255)
  status           String?   @db.VarChar(255)
  result           String?   @db.LongText
  symbols_count    Int?
  tokens_count     Float?
  price            Float?
  domain           String?   @db.VarChar(255)
  user_id          Int?
  user_name        String?   @db.VarChar(255)
  entity_type      String?   @db.VarChar(255)
  entity_id        Int?
  entity_name      String?   @db.VarChar(255)
  user_result      Json?
  report_result    String?   @db.LongText
  user_comment     String?   @db.LongText
  owner_comment    String?   @db.LongText
  user_mark        String?   @db.Text
  owner_mark       String?   @db.Text
  app              String?   @db.VarChar(255)
  department       String?   @db.VarChar(255)
  type             String?   @db.VarChar(255)
  model            String?   @db.VarChar(255)
  portal_id        BigInt?
  transcription_id BigInt?
}

model bitrix_app_placements {
  id              BigInt      @id @default(autoincrement()) @db.UnsignedBigInt
  created_at      DateTime?   @db.Timestamp(0)
  updated_at      DateTime?   @db.Timestamp(0)
  bitrix_app_id   BigInt      @db.UnsignedBigInt
  code            String      @db.VarChar(255)
  type            String      @db.VarChar(255)
  group           String      @db.VarChar(255)
  status          String      @db.VarChar(255)
  bitrix_heandler String      @db.VarChar(255)
  public_heandler String      @db.VarChar(255)
  bitrix_codes    String      @db.LongText
  bitrix_apps     bitrix_apps @relation(fields: [bitrix_app_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "bitrix_app_placements_bitrix_app_id_foreign")

  @@index([bitrix_app_id], map: "bitrix_app_placements_bitrix_app_id_foreign")
}

model bitrix_app_secrets {
  id            BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at    DateTime? @db.Timestamp(0)
  updated_at    DateTime? @db.Timestamp(0)
  group         String?   @db.VarChar(255)
  type          String?   @db.VarChar(255)
  code          String    @db.VarChar(255)
  client_id     String    @db.LongText
  client_secret String    @db.LongText
}

model bitrix_apps {
  id                    BigInt                  @id @default(autoincrement()) @db.UnsignedBigInt
  created_at            DateTime?               @db.Timestamp(0)
  updated_at            DateTime?               @db.Timestamp(0)
  portal_id             BigInt                  @db.UnsignedBigInt
  group                 String                  @db.VarChar(255)
  type                  String                  @db.VarChar(255)
  code                  String                  @db.VarChar(255)
  status                String                  @db.VarChar(255)
  bitrix_app_placements bitrix_app_placements[]
  portals               portals                 @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "bitrix_apps_portal_id_foreign")
  bitrix_tokens         bitrix_tokens[]

  @@index([portal_id], map: "bitrix_apps_portal_id_foreign")
}

model bitrix_settings {
  id               BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at       DateTime? @db.Timestamp(0)
  updated_at       DateTime? @db.Timestamp(0)
  settingable_id   BigInt    @db.UnsignedBigInt
  settingable_type String    @db.VarChar(255)
  type             String?   @db.VarChar(255)
  code             String    @db.VarChar(255)
  status           String?   @db.VarChar(255)
  title            String?   @db.VarChar(255)
  description      String?   @db.Text
  value            String?   @db.LongText
}

model bitrix_tokens {
  id                BigInt      @id @default(autoincrement()) @db.UnsignedBigInt
  created_at        DateTime?   @db.Timestamp(0)
  updated_at        DateTime?   @db.Timestamp(0)
  client_id         String      @db.LongText
  client_secret     String      @db.LongText
  access_token      String      @db.LongText
  refresh_token     String      @db.LongText
  expires_at        DateTime?   @db.Timestamp(0)
  application_token String?     @db.LongText
  member_id         String?     @db.LongText
  bitrix_app_id     BigInt      @db.UnsignedBigInt
  bitrix_apps       bitrix_apps @relation(fields: [bitrix_app_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "bitrix_tokens_bitrix_app_id_foreign")

  @@index([bitrix_app_id], map: "bitrix_tokens_bitrix_app_id_foreign")
}

model btx_contacts {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
  name       String    @db.VarChar(255)
  title      String    @db.VarChar(255)
  code       String    @db.VarChar(255)
  portal_id  BigInt    @db.UnsignedBigInt
  portals    portals   @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "btx_contacts_portal_id_foreign")

  @@index([portal_id], map: "btx_contacts_portal_id_foreign")
}

model BxDocumentDeal {
  id                 BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at         DateTime? @default(now()) @db.Timestamp(0)
  updated_at         DateTime? @updatedAt @db.Timestamp(0)
  portalId           BigInt?   @db.UnsignedBigInt
  dealId             Int?
  userId             Int?
  infoblockId        BigInt?   @db.UnsignedBigInt
  supplyId           BigInt?   @db.UnsignedBigInt
  contractId         BigInt?   @db.UnsignedBigInt
  complectId         BigInt?   @db.UnsignedBigInt
  actionId           BigInt?   @db.UnsignedBigInt
  regionId           BigInt?   @db.UnsignedBigInt
  favoriteId         BigInt?   @db.UnsignedBigInt
  templateId         BigInt?   @db.UnsignedBigInt
  title              String?   @db.VarChar(255)
  domain             String?   @db.VarChar(255)
  dealName           String?   @db.VarChar(255)
  app                String?   @db.LongText
  global             String?   @db.LongText
  currentComplect    String?   @db.LongText
  od                 String?   @db.LongText
  result             String?   @db.LongText
  contract           String?   @db.LongText
  product            String?   @db.LongText
  rows               String?   @db.LongText
  regions            String?   @db.LongText
  tags               String?   @db.LongText
  department         String?   @db.VarChar(255)
  target             String?   @db.VarChar(255)
  promotionName      String?   @db.VarChar(255)
  promotion          String?   @db.LongText
  code               String?   @db.VarChar(255)
  order              Int?
  group              String?   @db.VarChar(255)
  clientGroup        String?   @db.VarChar(255)
  clientType         String?   @db.VarChar(255)
  clientCompanyName  String?   @db.VarChar(255)
  clientName         String?   @db.VarChar(255)
  clientPosition     String?   @db.VarChar(255)
  clientNameCase     String?   @db.VarChar(255)
  clientPositionCase String?   @db.VarChar(255)
  settings           String?   @db.LongText
  saleText           String?   @db.LongText
  letterText         String?   @db.LongText
  options            String?   @db.LongText
  offer              String?   @db.LongText
  invoice            String?   @db.LongText
  contractDocument   String?   @db.LongText
  act                String?   @db.LongText
  isFavorite         Boolean?
  shadowDealId       Int?
  serviceSmartId     Int?
  smartId            Int?

  @@map("bx_document_deals")
}

model bx_rqs {
  id             BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at     DateTime? @db.Timestamp(0)
  updated_at     DateTime? @db.Timestamp(0)
  portal_id      BigInt?   @db.UnsignedBigInt
  name           String?   @db.VarChar(255)
  code           String?   @db.VarChar(255)
  type           String?   @db.VarChar(255)
  bitrix_id      String?   @db.VarChar(255)
  xml_id         String?   @db.VarChar(255)
  entity_type_id String?   @db.VarChar(255)
  country_id     String?   @db.VarChar(255)
  is_active      Boolean   @default(true)
  sort           Int?
}

model complect_infoblock {
  id           BigInt     @id @default(autoincrement()) @db.UnsignedBigInt
  complect_id  BigInt     @db.UnsignedBigInt
  infoblock_id BigInt     @db.UnsignedBigInt
  created_at   DateTime?  @db.Timestamp(0)
  updated_at   DateTime?  @db.Timestamp(0)
  complects    complects  @relation(fields: [complect_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "complect_infoblock_complect_id_foreign")
  infoblocks   infoblocks @relation(fields: [infoblock_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "complect_infoblock_infoblock_id_foreign")

  @@index([complect_id], map: "complect_infoblock_complect_id_foreign")
  @@index([infoblock_id], map: "complect_infoblock_infoblock_id_foreign")
}

model complects {
  id                 BigInt               @id @default(autoincrement()) @db.UnsignedBigInt
  name               String               @db.VarChar(255)
  fullName           String               @db.VarChar(255)
  shortName          String               @db.VarChar(255)
  description        String?              @db.LongText
  code               String               @db.VarChar(255)
  type               String               @db.VarChar(255)
  color              String               @db.VarChar(255)
  weight             Float
  abs                Float?
  number             Int
  productType        String               @db.VarChar(255)
  withABS            Boolean
  withConsalting     Boolean
  withServices       Boolean
  withLt             Boolean
  isChanging         Boolean
  withDefault        Boolean
  created_at         DateTime?            @db.Timestamp(0)
  updated_at         DateTime?            @db.Timestamp(0)
  complect_infoblock complect_infoblock[]
  garant_prof_prices garant_prof_prices[]
}

model garant_packages {
  id                 BigInt               @id @default(autoincrement()) @db.UnsignedBigInt
  created_at         DateTime?            @db.Timestamp(0)
  updated_at         DateTime?            @db.Timestamp(0)
  infoblock_id       BigInt?              @db.UnsignedBigInt
  info_group_id      BigInt?              @db.UnsignedBigInt
  name               String               @db.VarChar(255)
  fullName           String               @db.VarChar(255)
  shortName          String               @db.VarChar(255)
  description        String?              @db.LongText
  code               String               @db.VarChar(255)
  type               String               @db.VarChar(255)
  color              String?              @db.VarChar(255)
  weight             Float?
  abs                Float?
  number             Int
  productType        String?              @db.VarChar(255)
  withABS            Boolean
  isChanging         Boolean
  withDefault        Boolean
  info_groups        info_groups?         @relation(fields: [info_group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "garant_packages_info_group_id_foreign")
  infoblocks         infoblocks?          @relation(fields: [infoblock_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "garant_packages_infoblock_id_foreign")
  garant_prof_prices garant_prof_prices[]

  @@index([info_group_id], map: "garant_packages_info_group_id_foreign")
  @@index([infoblock_id], map: "garant_packages_infoblock_id_foreign")
}

model garant_prof_prices {
  id                BigInt           @id @default(autoincrement()) @db.UnsignedBigInt
  created_at        DateTime?        @db.Timestamp(0)
  updated_at        DateTime?        @db.Timestamp(0)
  complect_id       BigInt?          @db.UnsignedBigInt
  garant_package_id BigInt?          @db.UnsignedBigInt
  supply_id         BigInt?          @db.UnsignedBigInt
  region_type       String           @db.VarChar(255)
  supply_type       String?          @db.VarChar(255)
  value             Float
  discount          Float?
  complects         complects?       @relation(fields: [complect_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "garant_prof_prices_complect_id_foreign")
  garant_packages   garant_packages? @relation(fields: [garant_package_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "garant_prof_prices_garant_package_id_foreign")
  supplies          supplies?        @relation(fields: [supply_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "garant_prof_prices_supply_id_foreign")

  @@index([complect_id], map: "garant_prof_prices_complect_id_foreign")
  @@index([garant_package_id], map: "garant_prof_prices_garant_package_id_foreign")
  @@index([supply_id], map: "garant_prof_prices_supply_id_foreign")
}

model google_tokens {
  id            BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  access_token  String    @db.VarChar(255)
  refresh_token String    @db.VarChar(255)
  expires_at    DateTime  @db.Timestamp(0)
  created_at    DateTime? @db.Timestamp(0)
  updated_at    DateTime? @db.Timestamp(0)
}

model infoblock_info_group {
  id            BigInt      @id @default(autoincrement()) @db.UnsignedBigInt
  infoblock_id  BigInt      @db.UnsignedBigInt
  info_group_id BigInt      @db.UnsignedBigInt
  created_at    DateTime?   @db.Timestamp(0)
  updated_at    DateTime?   @db.Timestamp(0)
  info_groups   info_groups @relation(fields: [info_group_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "infoblock_info_group_info_group_id_foreign")
  infoblocks    infoblocks  @relation(fields: [infoblock_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "infoblock_info_group_infoblock_id_foreign")

  @@index([info_group_id], map: "infoblock_info_group_info_group_id_foreign")
  @@index([infoblock_id], map: "infoblock_info_group_infoblock_id_foreign")
}

model infoblock_package {
  id                                                    BigInt     @id @default(autoincrement()) @db.UnsignedBigInt
  package_id                                            BigInt     @db.UnsignedBigInt
  infoblock_id                                          BigInt     @db.UnsignedBigInt
  created_at                                            DateTime?  @db.Timestamp(0)
  updated_at                                            DateTime?  @db.Timestamp(0)
  infoblocks_infoblock_package_infoblock_idToinfoblocks infoblocks @relation("infoblock_package_infoblock_idToinfoblocks", fields: [infoblock_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "infoblock_package_infoblock_id_foreign")
  infoblocks_infoblock_package_package_idToinfoblocks   infoblocks @relation("infoblock_package_package_idToinfoblocks", fields: [package_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "infoblock_package_package_id_foreign")

  @@unique([package_id, infoblock_id], map: "infoblock_package_package_id_infoblock_id_unique")
  @@index([infoblock_id], map: "infoblock_package_infoblock_id_foreign")
}

model offer_template_portal {
  id                BigInt          @id @default(autoincrement()) @db.UnsignedBigInt
  offer_template_id BigInt          @db.UnsignedBigInt
  portal_id         BigInt          @db.UnsignedBigInt
  is_default        Boolean         @default(false)
  is_active         Boolean         @default(false)
  created_at        DateTime?       @db.Timestamp(0)
  updated_at        DateTime?       @db.Timestamp(0)
  offer_templates   offer_templates @relation(fields: [offer_template_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "offer_template_portal_offer_template_id_foreign")
  portals           portals         @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "offer_template_portal_portal_id_foreign")

  @@index([offer_template_id], map: "offer_template_portal_offer_template_id_foreign")
  @@index([portal_id], map: "offer_template_portal_portal_id_foreign")
}

model offer_templates {
  id                      BigInt                     @id @default(autoincrement()) @db.UnsignedBigInt
  name                    String                     @db.VarChar(255)
  visibility              offer_templates_visibility @default(private)
  is_default              Boolean                    @default(false)
  file_path               String                     @db.VarChar(255)
  demo_path               String?                    @db.VarChar(255)
  type                    String                     @default("single") @db.VarChar(255)
  rules                   String?                    @db.LongText
  price_settings          String?                    @db.LongText
  infoblock_settings      String?                    @db.LongText
  letter_text             String?                    @db.LongText
  sale_text_1             String?                    @db.LongText
  sale_text_2             String?                    @db.LongText
  sale_text_3             String?                    @db.LongText
  sale_text_4             String?                    @db.LongText
  sale_text_5             String?                    @db.LongText
  field_codes             String?                    @db.LongText
  style                   String?                    @db.VarChar(255)
  color                   String?                    @db.VarChar(255)
  code                    String                     @db.VarChar(255)
  tags                    String?                    @db.LongText
  is_active               Boolean                    @default(false)
  counter                 Int
  created_at              DateTime?                  @db.Timestamp(0)
  updated_at              DateTime?                  @db.Timestamp(0)
  offer_template_portal   offer_template_portal[]
  user_selected_templates user_selected_templates[]
}

model offer_zakupki_settings {
  id                          BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at                  DateTime? @db.Timestamp(0)
  updated_at                  DateTime? @db.Timestamp(0)
  portal_id                   BigInt    @db.UnsignedBigInt
  bxUserId                    Int?
  offer_template_id           Int?
  domain                      String?   @db.VarChar(255)
  name                        String?   @db.VarChar(255)
  provider1_id                BigInt?
  provider1_name              String?   @db.VarChar(255)
  provider1_shortname         String?   @db.VarChar(255)
  provider1_address           String?   @db.LongText
  provider1_phone             String?   @db.VarChar(255)
  provider1_email             String?   @db.VarChar(255)
  provider1_letter_text       String?   @db.LongText
  provider1_inn               String?   @db.VarChar(255)
  provider1_director          String?   @db.VarChar(255)
  provider1_position          String?   @db.VarChar(255)
  provider1_logo              String?   @db.VarChar(255)
  provider1_stamp             String?   @db.VarChar(255)
  provider1_signature         String?   @db.VarChar(255)
  provider1_price_coefficient Float     @default(1.05)
  provider2_id                BigInt?
  provider2_name              String?   @db.VarChar(255)
  provider2_shortname         String?   @db.VarChar(255)
  provider2_address           String?   @db.LongText
  provider2_phone             String?   @db.VarChar(255)
  provider2_email             String?   @db.VarChar(255)
  provider2_letter_text       String?   @db.LongText
  provider2_inn               String?   @db.VarChar(255)
  provider2_director          String?   @db.VarChar(255)
  provider2_position          String?   @db.VarChar(255)
  provider2_logo              String?   @db.VarChar(255)
  provider2_stamp             String?   @db.VarChar(255)
  provider2_signature         String?   @db.VarChar(255)
  provider2_price_coefficient Float     @default(1.10)
  is_default                  Boolean?
  is_current                  Boolean?
  is_one_document             Boolean   @default(true)
  provider1_price_settings    String?   @db.LongText
  provider2_price_settings    String?   @db.LongText
  portals                     portals   @relation(fields: [portal_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "offer_zakupki_settings_portal_id_foreign")

  @@index([portal_id], map: "offer_zakupki_settings_portal_id_foreign")
}

model provider_currents {
  id           BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at   DateTime? @db.Timestamp(0)
  updated_at   DateTime? @db.Timestamp(0)
  domain       String?   @db.VarChar(255)
  portalId     Int?
  bxUserId     Int?
  agentId      Int?
  providerName Int?
  name         String?   @db.VarChar(255)
}

model report_settings {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
  domain     String?   @db.VarChar(255)
  portalId   Int?
  bxUserId   Int?
  filter     String?   @db.LongText
  filters    String?   @db.LongText
  grafics    String?   @db.LongText
  department String?   @db.LongText
  date       String?   @db.LongText
  dates      String?   @db.LongText
  other      String?   @db.LongText
}

model supplies {
  id                         BigInt               @id @default(autoincrement()) @db.UnsignedBigInt
  created_at                 DateTime?            @db.Timestamp(0)
  updated_at                 DateTime?            @db.Timestamp(0)
  name                       String               @db.VarChar(255)
  fullName                   String               @db.VarChar(255)
  shortName                  String               @db.VarChar(255)
  saleName_1                 String?              @db.Text
  saleName_2                 String?              @db.Text
  saleName_3                 String?              @db.Text
  usersQuantity              Int
  description                String?              @db.LongText
  code                       String               @db.VarChar(255)
  type                       String               @db.VarChar(255)
  color                      String?              @db.VarChar(255)
  coefficient                Float
  contractName               String?              @db.Text
  contractPropComment        String?              @db.Text
  contractPropEmail          String?              @db.Text
  contractPropLoginsQuantity String?              @db.Text
  lcontractName              String?              @db.Text
  lcontractPropComment       String?              @db.Text
  lcontractPropEmail         String?              @db.Text
  garant_prof_prices         garant_prof_prices[]
}

model transcriptions {
  id             BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at     DateTime? @db.Timestamp(0)
  updated_at     DateTime? @db.Timestamp(0)
  provider       String?   @db.VarChar(255)
  activity_id    String?   @db.VarChar(255)
  file_id        String?   @db.VarChar(255)
  in_comment     Boolean   @default(false)
  status         String?   @db.VarChar(255)
  text           String?   @db.LongText
  symbols_count  String?   @db.VarChar(255)
  price          String?   @db.VarChar(255)
  duration       String?   @db.VarChar(255)
  domain         String?   @db.VarChar(255)
  user_id        String?   @db.VarChar(255)
  user_name      String?   @db.VarChar(255)
  entity_type    String?   @db.VarChar(255)
  entity_id      String?   @db.VarChar(255)
  entity_name    String?   @db.VarChar(255)
  app            String?   @db.VarChar(255)
  department     String?   @db.VarChar(255)
  user_comment   String?   @db.LongText
  owner_comment  String?   @db.LongText
  user_mark      String?   @db.Text
  owner_mark     String?   @db.Text
  user_result    Json?
  report_result  String?   @db.LongText
  in_report      Boolean   @default(false)
  report_item_id String?   @db.VarChar(255)
  portal_id      String?   @db.VarChar(255)
}

model user_selected_templates {
  id                 BigInt          @id @default(autoincrement()) @db.UnsignedBigInt
  bitrix_user_id     BigInt          @db.UnsignedBigInt
  portal_id          BigInt          @db.UnsignedBigInt
  offer_template_id  BigInt          @db.UnsignedBigInt
  is_current         Boolean         @default(false)
  is_favorite        Boolean         @default(false)
  is_active          Boolean         @default(false)
  price_settings     String?         @db.LongText
  infoblock_settings String?         @db.LongText
  letter_text        String?         @db.LongText
  sale_text_1        String?         @db.LongText
  sale_text_2        String?         @db.LongText
  sale_text_3        String?         @db.LongText
  sale_text_4        String?         @db.LongText
  sale_text_5        String?         @db.LongText
  created_at         DateTime?       @db.Timestamp(0)
  updated_at         DateTime?       @db.Timestamp(0)
  offer_templates    offer_templates @relation(fields: [offer_template_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "user_selected_templates_offer_template_id_foreign")
  portals            portals         @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "user_selected_templates_portal_id_foreign")

  @@index([offer_template_id], map: "user_selected_templates_offer_template_id_foreign")
  @@index([portal_id], map: "user_selected_templates_portal_id_foreign")
}

model portal_region {
  portal_id   BigInt   @db.UnsignedBigInt
  region_id   BigInt   @db.UnsignedBigInt
  own_abs     Decimal? @db.Decimal(8, 2)
  own_tax     Decimal? @db.Decimal(8, 2)
  own_tax_abs Decimal? @db.Decimal(8, 2)
  portal      portals  @relation(fields: [portal_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "portal_region_portal_id_foreign")
  region      regions  @relation(fields: [region_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "portal_region_region_id_foreign")

  @@id([portal_id, region_id])
  @@index([region_id], map: "portal_region_region_id_foreign")
}

model regions {
  id            BigInt          @id @default(autoincrement()) @db.UnsignedBigInt
  created_at    DateTime?       @db.Timestamp(0)
  updated_at    DateTime?       @db.Timestamp(0)
  number        Int
  title         String          @db.VarChar(255)
  code          String          @db.VarChar(255)
  infoblock     String          @db.VarChar(255)
  abs           Decimal         @db.Decimal(8, 2)
  tax           Decimal         @db.Decimal(8, 2)
  tax_abs       Decimal         @db.Decimal(8, 2)
  portal_region portal_region[]
}

enum offer_templates_visibility {
  public
  private
  user
}
